% Generator: GNU source-highlight, by Lorenzo Bettini, http://www.gnu.org/software/src-highlite
\noindent
\mbox{}\textbf{\textcolor{Blue}{def}}\ 3dmatching\textcolor{BrickRed}{(}aristas\textcolor{BrickRed}{)} \\
\mbox{}\ \ \ \ particiones\ \textcolor{BrickRed}{=}\ new\ Queue \\
\mbox{}\ \ \ \ particiones\textcolor{BrickRed}{.}push\textcolor{BrickRed}{([])} \\
\mbox{} \\
\mbox{}\ \ \ \ \textbf{\textcolor{Blue}{while}}\ \textbf{\textcolor{Blue}{not}}\ particiones\textcolor{BrickRed}{.}empty? \\
\mbox{}\ \ \ \ \ \ \ \ actual\ \textcolor{BrickRed}{=}\ particiones\textcolor{BrickRed}{.}pop \\
\mbox{}\ \ \ \ \ \ \ \ \textbf{\textcolor{Blue}{if}}\ \#actual\ \textcolor{BrickRed}{==}\ \#aristas \\
\mbox{}\ \ \ \ \ \ \ \ \ \ \ \ \textbf{\textcolor{Blue}{if}}\ valor\textcolor{BrickRed}{(}actual\textcolor{BrickRed}{)}\ \textcolor{BrickRed}{\textgreater{}}\ valor\textcolor{BrickRed}{(}solucion\textcolor{BrickRed}{)} \\
\mbox{}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ solucion\ \textcolor{BrickRed}{=}\ actual \\
\mbox{}\ \ \ \ \ \ \ \ \textbf{\textcolor{Blue}{else}} \\
\mbox{}\ \ \ \ \ \ \ \ \ \ \ \ \textbf{\textcolor{Blue}{if}}\ interseca?\textcolor{BrickRed}{(}$\mathtt{aristas[\#actual]}$\textcolor{BrickRed}{,}\ actual\textcolor{BrickRed}{)} \\
\mbox{}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ particiones\textcolor{BrickRed}{.}push\textcolor{BrickRed}{(}actual\ \textcolor{BrickRed}{++}\ \textcolor{BrickRed}{[}\textbf{\textcolor{Blue}{true}}\textcolor{BrickRed}{])} \\
\mbox{}\ \ \ \ \ \ \ \ \ \ \ \ \textbf{\textcolor{Blue}{if}}\ \textcolor{BrickRed}{(}valor\textcolor{BrickRed}{(}solucion\textcolor{BrickRed}{)}\ \textcolor{BrickRed}{\textless{}}\ valor\textcolor{BrickRed}{(}actual\textcolor{BrickRed}{)}\ \textcolor{BrickRed}{+}\ valorMaximo\textcolor{BrickRed}{(}actual\textcolor{BrickRed}{))} \\
\mbox{}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ particiones\textcolor{BrickRed}{.}push\textcolor{BrickRed}{(}actual\ \textcolor{BrickRed}{++}\ \textcolor{BrickRed}{[}\textbf{\textcolor{Blue}{false}}\textcolor{BrickRed}{])} \\
\mbox{} \\
\mbox{}\ \ \ \ \textbf{\textcolor{Blue}{return}}\ solucion \\
\mbox{}\textbf{\textcolor{Blue}{end}} \\
\mbox{} \\
\mbox{}\textbf{\textcolor{Blue}{def}}\ interseca?\textcolor{BrickRed}{(}particion\textcolor{BrickRed}{,}\ arista\textcolor{BrickRed}{)} \\
\mbox{}\ \ \ \ \textbf{\textcolor{Blue}{return}}\ $\mathtt{!(arista.x \in particion.usadosX)}$ \\
\mbox{}\ \ \ \ \ \ \ \textbf{\textcolor{Blue}{and}}\ $\mathtt{!(arista.y \in particion.usadosY)}$ \\
\mbox{}\ \ \ \ \ \ \ \textbf{\textcolor{Blue}{and}}\ $\mathtt{!(arista.z \in particion.usadosZ)}$ \\
\mbox{}\textbf{\textcolor{Blue}{end}} \\
\mbox{} \\
\mbox{} \\
\mbox{}\textbf{\textcolor{Blue}{def}}\ valor\textcolor{BrickRed}{(}particion\textcolor{BrickRed}{)} \\
\mbox{}\ \ \ \ \textbf{\textcolor{Blue}{return}}\ $\sum_{\mathtt{i=1}}^{\mathtt{\#particion}} \mathtt{particion[i]} * \mathtt{preferencias[i]} $ \\
\mbox{}\textbf{\textcolor{Blue}{end}} \\
\mbox{} \\
\mbox{}\textbf{\textcolor{Blue}{def}}\ valorMaximo\textcolor{BrickRed}{(}particion\textcolor{BrickRed}{,} aristas\textcolor{BrickRed}{)} \\
\mbox{}\ \ \ \ \ \textbf{valor \textcolor{Red}{=} $\mathtt{0}$}\\
\mbox{}\ \ \ \ \ \textbf{\textcolor{Blue}{for}\textcolor{Red}{(}\textcolor{Blue}{int} i \textcolor{Red}{=} $\mathtt{0}$; 
$\mathtt{i \le aristas.size}$; $\mathtt{i}$++\textcolor{Red}{)}}\\
\mbox{}\ \ \ \ \ \ \ \ \textbf{\textcolor{Blue}{if}}\ \textcolor{Red}{(}$\mathtt{aristas[i] \notin particion}$\textcolor{Red}{)} \\
\mbox{}\ \ \ \ \ \ \ \ \ \ \ \textbf{valor \textcolor{Red}{+=} $\mathtt{preferencias[i]}$}\\
\mbox{}\ \ \ \ \ \textbf{\textcolor{Blue}{return} valor}\\
\mbox{}\textbf{\textcolor{Blue}{end}} \\
\mbox{}
